<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>APIs</title>
	<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

</head>
<body>
	<div id="result" >  </div>
	<div>
	<input id="wal" type="button" value="waltmart">
	<input id="walAdd" type="button" value="Agregar">
	<input id="che" type="button" value="Chedraui">
	<input id="sor"  type="button" value="Soriana">
	</div>
	
<script>
	$("#wal").click( function(){  $.get("../waltmart",json => { console.log(json);  $("#result").append(JSON.stringify(json)); } ) } )
	$("#walAdd").click( function(){ 
			let datos = {nom:"Aceite Nutrioli",
			prec:45.58,
			fec: Date(),
			desc:"Aceite vegetal de canola",
			foto:"img/aceiteNurioli.jpg" 
			} 
		let url = "../waltmart";
   fetch(url,{method: "POST",body: JSON.stringify(datos),headers: {"Content-Type": "application/json"}}).then(res=>res.json()).then(  $("#result").html(JSON.stringify(res) )) 
	})
	
	$("#che").click(() =>{  $.getJSON("../chedraui",json => { $("#result").html(json)    })   })
	$("#sor").click(() =>{  fetch("https://developer.walmart.com/priceProxy/price-api-doc-app/rest/v3/feeds").then(resp =>{resp.json()}).then(resp =>{console.log(resp)})   })

</script>

</body>
</html>
